<p align="center">
  <img src="./public/logo.svg" alt="ZASSHA" width="480" />
</p>

<p align="center">
  <a href="./README.md">English</a> · <b>日本語</b>
</p>

ZASSHA は、画面録画から「誰でも再現できる手順」を自動作成します。動画をアップロードして「解析」を押すだけ。結果は Word / PowerPoint / Excel に出力できます。

— この README は一般ユーザー向けの操作手順を中心に説明します。開発向けメモは末尾に簡潔に記載しています。

## クイックスタート（約 5 分）

1) 依存関係をインストール
```bash
npm install
```

2) API キーを設定
```bash
cp .env.example .env.local
# .env.local を開き、GEMINI_API_KEY=... を設定
```

3) アプリを起動
```bash
npm start
```
ブラウザで http://localhost:3000 を開きます。

## 使い方

1) 動画を追加
- 左のサイドバーにドラッグ＆ドロップ、またはアップロード領域をクリックして `video/*` を選択します。

2) 解析モードを選択
- 概要: 500〜800文字程度の簡潔なまとめ。
- 詳細: タイムスタンプや使用ツール付きの詳しい手順。

3) （任意）補足を入力
- 作業の目的を 1 行で書くと精度が上がります（例:「Slack の通知設定を変更」）。

4) 「解析」をクリック
- ファイルごとの進捗が表示されます。50MB 以上は自動的に分割アップロード（レジューム対応）になります。

5) 結果を確認
- 概要: 動画全体の要約。
- 解説: 作業者が何を確認・検証しようとしているかの推察。
- 業務詳細: ステップと操作の表。各操作にサムネイルが付き、ホバーでプレビュー、クリックで拡大プレイヤーを開きます。

6) ドキュメントを出力
- カード右上の「Export」から形式を選択します：
  - Word (.docx): 見出し＋テキスト＋スクリーンショット。
  - PowerPoint (.pptx): 1 操作 = 1 スライド。スライドにはスクリーンショット＋キャプション、詳細（使用ツール/タイムスタンプ/解説）はノート欄へ。
  - Excel (.xlsx): 行に No./ステップ/解説/使用ツール/タイムスタンプ/操作を整形して出力。
- 出力ファイル名は `zassha_<元ファイル名>_<YYYYMMDD>.*` です。

7) 言語/テーマを切替
- フッターから EN/JA 切替とライト/ダークテーマ切替ができます。

## 精度を上げるコツ
- タスクに集中した録画（アプリ切替を減らす）。
- 1080p 以上の解像度で録画（UI テキストが読み取りやすくなります）。
- 目的が画面だけでは伝わりにくい場合は、補足を 1 行書く。

## トラブルシューティング
- 「API キーが設定されていません」
  - `.env.local` に `GEMINI_API_KEY` を設定し、`npm start` を再起動してください。
- 大きなファイルで止まる
  - 分割アップロードは自動です。非常に長い動画はサーバー側のセグメント化で改善する場合があります（`ffmpeg` が必要 — 後述）。
- サムネイル/プレビューが出ない
  - ブラウザで再生可能なコーデックか確認してください。プレビューできなくても、エクスポート自体は可能です。
- PowerPoint のフォントが想定と違う
  - 既定で「Yu Gothic UI」を要求します。OS にない場合は PowerPoint の既定フォントにフォールバックします。

## プライバシー
- 動画は Google の Gemini Files API で解析されます。セグメント化を有効にしている場合、サーバーで一時的に分割した後、各セグメントを Gemini にアップロードします。スクリーンショットはブラウザ内で生成され、エクスポートに埋め込まれます。

## 動作環境
- 最新のブラウザ（Chrome / Edge / Firefox / Safari）。
- Node.js 18 以上（`.nvmrc` を参照）。
- 非常に長い動画向け（任意）: サーバーに `ffmpeg` があるとセグメント化が可能。

---

## 上級者向け / 開発メモ（簡潔）

- 起動/停止
  - `npm start`（または `npm run dev`）— `http://localhost:3000` で起動。
- Lint/型チェック
  - `npm run lint`, `npm run typecheck`。
- 主なフォルダ
  - `src/features/analysis`（結果表示、エクスポート、セグメントプレイヤー）
  - `src/features/upload`（サイドバーアップローダー）
  - `src/components`（UI/コンテキスト）
  - `src/lib`（解析/エクスポートのユーティリティ）
- セグメント化（任意）
  - `.env.local` に `ZASSHA_SEGMENT_LEN`（秒）を設定。PATH 上の `ffmpeg` が必要。未設定の場合は分割せずに解析します。

ライセンス: MIT — `LICENSE` を参照。© 2025 CORe Inc.
